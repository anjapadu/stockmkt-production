(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{517:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(62),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(151),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(82),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(83),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(84),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(85),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(86),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),react_redux__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(50),axios__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(152),axios__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_9__),_components_AdaptableImg__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(518),_actions__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(26),_components_Button__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(110),_components_Icon__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(153),_components_Card__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(519),_components_Input__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(238),_utils__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(111),_selectors_stocks__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(154),react_notifications_component__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(112),react_notifications_component__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(react_notifications_component__WEBPACK_IMPORTED_MODULE_18__),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(_){return _},AdminRanking=function(_Component){function AdminRanking(_){return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this,AdminRanking),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(AdminRanking).call(this,_))}var _componentDidMount;return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(AdminRanking,_Component),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(AdminRanking,[{key:"componentDidMount",value:(_componentDidMount=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _(){var e,t;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,axios__WEBPACK_IMPORTED_MODULE_9___default.a.post("http://localhost:5015/graph",{query:'{\n        stocks {\n          uuid\n          name\n          description\n          companyname\n          companylogo\n          currency\n          last_price {\n            uuid\n            close_price\n            timestamp(format: "DD/MM/YYYY @ HH:mm")\n            change_price\n            change_percent\n          }\n          stock_price_history {\n            uuid\n            close_price\n            timestamp(format: "DD/MM/YYYY @ HH:mm")\n            change_price\n            change_percent\n          }\n        }\n        users {\n          uuid\n          username\n          admin\n          balance\n          \n          holdings{\n          stock_uuid\n          user_uuid\n          quantity\n          user {\n            uuid\n            uuid\n          }\n          stock {\n            uuid\n            name\n            description\n            companyname\n            quantity\n            currency\n            last_price {\n              close_price\n              change_price\n              change_percent\n            }\n          } \n          }\n        }\n      }\n      '});case 2:e=_.sent,(t=e.data).errors||(this.props.setStocks(t.data.stocks),this.props.setRanking(t.data.users));case 5:case"end":return _.stop()}}),_,this)}))),function(){return _componentDidMount.apply(this,arguments)})},{key:"calculateTotalHoldings",value:function(_){var e=this;return _.reduce((function(_,t){return"USD"===e.props.stockList[t.stock_uuid].currency?(_.usd+=t.quantity*e.props.stockList[t.stock_uuid].price,_):(_.pen+=t.quantity*e.props.stockList[t.stock_uuid].price,_)}),{usd:0,pen:0})}},{key:"render",value:function(){var _=this;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{style:{flex:"1 1",display:"flex",flexDirection:"column"}},this.props.ranking.map((function(e){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"_user",key:e.uuid},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"header"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h1",null,e.username)),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"content"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",flex:4}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("article",{className:"message is-info",style:{flex:1,marginRight:"1%",height:"5%"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"message-header",style:{display:"flex",alignItems:"center",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"Balance")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"message-body",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#F4FAFF"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("strong",null,Object(_utils__WEBPACK_IMPORTED_MODULE_16__.a)(e.balance)," USD"))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("article",{className:"message is-link",style:{flex:1,marginRight:"1%",height:"5%"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"message-header",style:{display:"flex",alignItems:"center",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"Acciones nacionales")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"message-body",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#E8EFFF"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("strong",null,Object(_utils__WEBPACK_IMPORTED_MODULE_16__.a)(e.totals.pen.toFixed(2))," PEN"))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("article",{className:"message is-primary",style:{flex:1,marginRight:"1%",height:"5%"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"message-header",style:{display:"flex",alignItems:"center",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",{className:"is-size-6"},"Acciones extranjeras")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"message-body",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#d4daf7"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("strong",null,Object(_utils__WEBPACK_IMPORTED_MODULE_16__.a)(e.totals.usd.toFixed(2))," USD"))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("article",{className:"message is-success",style:{flex:1,height:"5%"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"message-header",style:{display:"flex",alignItems:"center",justifyContent:"center"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"Total")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"message-body",style:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#D8F9DA"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("strong",null,Object(_utils__WEBPACK_IMPORTED_MODULE_16__.a)((e.balance+e.totals.usd+e.totals.pen/_.props.exchangeRate).toFixed(2))))))))})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),AdminRanking}(react__WEBPACK_IMPORTED_MODULE_7__.Component),mapStateToProps=function(_){return{stockList:Object(_selectors_stocks__WEBPACK_IMPORTED_MODULE_17__.b)(_),ranking:Object(_selectors_stocks__WEBPACK_IMPORTED_MODULE_17__.a)(_),exchangeRate:_.app.exchangeRate}},_default=Object(react_redux__WEBPACK_IMPORTED_MODULE_8__.c)(mapStateToProps,{setRanking:_actions__WEBPACK_IMPORTED_MODULE_11__.j,setStocks:_actions__WEBPACK_IMPORTED_MODULE_11__.m})(AdminRanking),reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(AdminRanking,"AdminRanking","/home/soportefia/stockmkt-production/StockMarket/src/containers/AdminRanking/index.jsx"),reactHotLoader.register(mapStateToProps,"mapStateToProps","/home/soportefia/stockmkt-production/StockMarket/src/containers/AdminRanking/index.jsx"),reactHotLoader.register(_default,"default","/home/soportefia/stockmkt-production/StockMarket/src/containers/AdminRanking/index.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(14)(module))}}]);